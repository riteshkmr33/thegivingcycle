jQuery(function(e){function t(t){var i,n;void 0===i?((i=wp.media({title:e("#"+t).data("window_title"),button:{text:e("#"+t).data("save_button")},multiple:!1})).on("select",function(){n=i.state().get("selection").first().toJSON(),0>e.trim(n.url.length)||(attachment_image_url=n.sizes.thumbnail?n.sizes.thumbnail.url:n.url,e(".wcv-file-uploader"+t).append('<img src="'+attachment_image_url+'" alt="'+n.caption+'" title="'+n.title+'" style="max-width: 100%;" />'),e("#"+t).val(n.id),e(".wcv-file-uploader-add"+t).addClass("hidden"),e(".wcv-file-uploader-delete"+t).removeClass("hidden"))}),i.open()):i.open()}function i(t,i){e(t).is(":checked")?(i.prop("disabled",!0),i.each(function(){e(this).is(":checkbox")?e(this).removeAttr("checked"):e(this).val("")})):i.prop("disabled",!1)}e(".wcv-img-id").each(function(){var i=this.id;e(".wcv-file-uploader-add"+i).on("click",function(e){return e.preventDefault(),t(i),!1}),e(".wcv-file-uploader-delete"+i).on("click",function(t){t.preventDefault(),e(".wcv-file-uploader"+i).html(""),e("input[id="+i+"]").val(""),e(".wcv-file-uploader-delete"+i).addClass("hidden"),e(".wcv-file-uploader-add"+i).removeClass("hidden")})}),e("select#_wcv_shipping_from").change(function(){"other"===e(this).val()?e(".shipping_other").show():e(".shipping_other").hide()}).change(),e("#_wcv_shipping_fee_national_free").change(function(){i(e(this),e("#_wcv_shipping_fee_national"))}),e("#_wcv_shipping_fee_national_disable").change(function(){i(e(this),e(".wcv-disable-national-input"))}),e("#_wcv_shipping_fee_international_free").change(function(){i(e(this),e("#_wcv_shipping_fee_international"))}),e("#_wcv_shipping_fee_international_disable").change(function(){i(e(this),e(".wcv-disable-international-input"))}),function(){"other"===e("#_wcv_shipping_from").val()?e(".shipping_other").show():e(".shipping_other").hide()}(),e(".wcv-vacaction-mode").change(function(){e(".wcv-vacation-mode-msg-wrapper").slideToggle()}),e(".wcv-vacaction-mode").is(":checked")&&e(".wcv-vacation-mode-msg-wrapper").show(),e(".wcv-datepicker").datepicker({defaultDate:"",dateFormat:wcv_frontend_general.date_format}),e(".wcv-datetimepicker").datetimepicker({dateFormat:wcv_frontend_general.date_format}),e(".wcv_shipped_date").on("click",function(){e(this).datepicker({dateFormat:wcv_frontend_general.date_format}),e(this).datepicker("show")}),e("#store_save_button").on("click",function(t){t.preventDefault(),store_name=e("#_wcv_store_name").val();var i={action:"wcv_json_unique_store_name",store_name:store_name,security:wcv_frontend_general.wcv_json_unique_store_name_nonce};e.post(wcv_frontend_general.ajax_url,i,function(t){if(t.error)return window.alert(t.error),!1;e("#wcv-store-settings").submit()})}),e(".wcv-form").parsley({trigger:"input",excluded:".is_hidden"}),window.Parsley.on("field:error",function(){var t=this.$element.closest(".tabs-content").attr("id");e(".wcv-tabs").find("."+t).addClass("parsley-error")}),window.Parsley.on("field:success",function(){var t=this.$element.closest(".tabs-content").attr("id");e(".wcv-tabs").find("."+t).removeClass("parsley-error")})});